{
    "meta": {
        "label": "Data partitioning",
        "description": "This recipe partitions data and saves the partitions as CSV or EXCEL files in managed folder",
        "icon": "icon-file-text"
    },
    
    // kind of plugin recipe
    "kind": "PYTHON",
    "selectableFromDataset": "input_dataset",
    
        // the input of this recipe component 
    "inputRoles": [
        {
            "name": "input_dataset",
            "label": "Input dataset",
            "description": "This is the input dataset that will be partitioned",
            "arity": "UNARY",
            "required": true,
            "acceptsDataset": true
        }
     ],
    
    // the output of this recipe component 
    "outputRoles": [
        {
            "name": "output_folder",
            "label": "Output Folder",
            "description": "This is the folder where the data partitions will saved",
            "arity": "UNARY",
            "required": true,
            "acceptsDataset": false,
            "acceptsManagedFolder":true
        }
    ],
    
    // parameters
    "params": [
                
        {
            "name": "partitioning_column",
            "label": "Partitioning column(s)",
            "type": "STRING",
            "description": "This is(are) the name(s) of column(s) in the input dataset whose unique values will be used to filter partitions. Separate several columns with commas. If this field is empty, the whole data will be written to the folder",
            "mandatory": false
        },
        {
            "name": "add_prefix",
            "label": "Add prefix to file name(s) - [optional]",
            "type": "STRING",
            "description": "Add prefix to file name. The default file name is the unique combination of partitioning column values",
            "mandatory": false
        },
        {
            "name": "columns_to_exclude",
            "label": "Column(s) to exclude",
            "type": "STRING",
            "description": "These is(are) the column(s) to exclude in the data partitions written to the folder.",
            "mandatory": false
        },
        {
            "name": "file_format",
            "label" : "File format",
            "type": "SELECT",
            "defaultValue" : "csv",
            "description" : "Select the file format of the data to be written",
            "selectChoices" : [
                {"value":  "csv" , "label":"CSV"},
                {"value":  "excel" , "label":"EXCEL"}
            ]
        }, 
        {
            "name": "sheet_name",
            "label": "Sheet Name [Optional]",
            "type": "STRING",
            "description": "Enter sheet name. The default name, sheet1, will be used if the field is left empty",
            "mandatory": false
        },
        
        {
            "name": "include_timestamp",
            "label": "Include timestamp to CSV file names",
            "description": "Check this button to include timestamps to csv file names. The default file name is the value of the partitioning column used to create the file",
            "type": "BOOLEAN"
        },
        {
            "name": "clear_folder",
            "label": "Clear folder",
            "description": "Check this button to clear the folder before writing new CSV files",
            "type": "BOOLEAN"
        }

    ],

    "resourceKeys": []

}




